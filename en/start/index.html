---
"layout": "document"
"directory": "start/"
"title": "Get Started"
"description": "Sisimai, Getting Started, System requirements, how to install, and basic usage"
"author": "azumakuniyuki"
"redirect_from": ["/install/", "/start/"]
---

<a id = 'tohash' href = '#'></a>
<header id = 'home'>
    <div class = 'main-nav'>
        <div class = 'container'>
            <div class = 'navbar-header'>
                <button type = 'button' class = 'navbar-toggle' data-toggle = 'collapse' data-target = '.navbar-collapse'>
                    <span class = 'sr-only'>Toggle navigation</span>
                    <span class = 'icon-bar'></span>
                    <span class = 'icon-bar'></span>
                    <span class = 'icon-bar'></span>
                </button>
                <a class = 'navbar-brand' href = '/'>
                    <h1>
                        <img class = 'img-responsive' src = '/static/images/logo/sisimai-logotype-w11.png' 
                            width = '144' alt = 'Sisimai: Mail Analyzing Interface'>
                    </h1>
                </a>
            </div>
            <div class = 'collapse navbar-collapse'>
                <ul class = 'nav navbar-nav navbar-right'>
                    <li class = 'others'><a href = '/en'><i class = 'fa fa-home'></i></a></li>
                    <li class = 'scroll active'><a href = '#index'><i class = 'fa fa-arrow-circle-up'></i></a></li>
                    <li class = 'scroll'><a href = '#environment'>Environment</a></li>
                    <li class = 'scroll'><a href = '#install'>Install</a></li> 
                    <li class = 'scroll'><a href = '#usage'>Basic Usage</a></li>
                    <li class = 'others'><a href = '/en/docs/'>Documents</a></li>
                    <li class = 'others'><a href = '/ja/start/'><i class = 'fa fa-language'></i></a></li>
                </ul>
            </div>
        </div>
    </div> <!-- /#main-nav -->
</header> <!-- /#home -->

<section id = 'index'>
    <div class = 'container'>
        <div class = 'heading'>
            <div class = 'row'>
                <div class = 'text-center col-sm-8 col-sm-offset-2'>
                    <img src = '/static/images/logo/sisimai-x01.png' width = '20%'>
                    <h2>Get Started</h2>
                </div>
            </div> 
        </div>
        <div class = 'text-center index-table'>
            <div class = 'row'>
                <div class = 'col-sm-3'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-desktop'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>Environment</h3>
                        <p class = 'description'>
                            {{ site.html.ss }} works on any OS where Perl or Ruby (including some
                            versions of JRuby) can run.
                        </p>
                    </div>
                    <a href = '#environment' class = 'btn btn-continue'>Read</a>
                </div>
                <div class = 'col-sm-3'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-cloud-download-alt'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>How To Install</h3>
                        <p class = 'description'>
                            {{ site.html.ss }} can be downloaded from 
                            <a href = '{{ site.sisimai.distribution.perl }}' target = 'new'>CPAN</a>(Perl)
                            or 
                            <a href = '{{ site.sisimai.distribution.ruby }}' target = 'new'>RubyGems</a>(Ruby).
                            Both the Perl and Ruby versions are also available for download on
                            <a href = '{{ site.sisimai.repository.project }}' target = 'new'>GitHub</a>.
                        </p>
                    </div>
                    <a href = '#install' class = 'btn btn-continue'>Read</a>
                </div>
                <div class = 'col-sm-3'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-keyboard'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>Basic Usage</h3>
                        <p class = 'description'>
                            This article will introduce you to the basics of using {{ site.html.ss }}.
                            We will cover how to decode bounce emails, retrieve structured decoded data,
                            and convert it to JSON.
                        </p>
                    </div>
                    <a href = '#usage' class = 'btn btn-continue'>Read</a>
                </div>
                <div class = 'col-sm-3'>
                    <div class = 'index-icon'>
                        <i class = 'fa fa-code'></i>
                    </div>
                    <div class = 'index-info'>
                        <h3>How To Decode</h3>
                        <p class = 'description'>
                            More advanced topics, such as reading from
                            STDIN, including delivery success in the decoded results,
                            and incorporating custom processing using the callback feature.
                        </p>
                    </div>
                    <a href = '/en/usage/' class = 'btn btn-continue'>Read</a>
                </div>
            </div>
        </div>
    </div>
</section> <!-- /#index -->

<section id = 'environment' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'post-it'>
                    <i class = 'fa fa-desktop'></i>
                </div>
            </div>
            <div class = 'heading col-sm-8 col-sm-offset-0'>
                <h2 class = 'in-desc'>System Requirements</h2>
                <p class = 'description'>
                    {{ site.html.ss }} can run on any OS that supports Perl or Ruby (including some
                    versions of JRuby), such as *BSD, Mac OS X, and Linux. Additionally, {{ site.html.ss }}
                    4.22.5 and later 
                    <a href = 'https://github.com/sisimai/p5-sisimai/issues/261' target = 'new'>
                        may run with ActivePerl on Windows.
                    </a>.
                </p>
                <p class = 'description'>
                    <strong>
                    It is important to review <a href = '/en/release/5.0.0.html'>the release notes</a>
                    and <a href = '/en/diff'>the differences with {{ site.html.ss }} 4</a> page 
                    before installing or upgrading, as there are several breaking changes in 
                    {{ site.html.ss }} 5.0.0 that may affect your use of the software.
                    </strong>
                </p>
            </div>
        </div>
        <div class = 'text-center index-table'>
            <div class = 'row'>
                <div class = 'col-sm-4 col-sm-offset-2'>
                    <div class = 'spec-icon'>
                        <img src = '/static/images/icon/dinosaur-1.png'>
                        <h3 class = 'icon-caption'>Perl {{ site.sisimai.workson.perl[0] }} or later</h3>
                    </div>
                    <div class = 'index-info'>
                        <ul class = 'spec'>
                            <li>2 External modules</li>
                            <ul>
                                <li>
                                    <a href = 'https://metacpan.org/pod/Class::Accessor::Lite' target = 'new'>
                                        Class::Accessor::Lite
                                    </a> module
                                </li>
                                <li><a href = 'https://metacpan.org/pod/JSON' target = 'new'>JSON</a> module</li>
                            </ul>
                            <li>Some core modules</li>
                            <ul>
                                <li title = 'Core module from Perl 5.9.4'>
                                    <a href = 'https://metacpan.org/pod/Module::Load' target = 'new'>Module::Load</a>
                                </li>
                                <li title = 'Core module from Perl 5.9.5'>
                                    <a href = 'https://metacpan.org/pod/Time::Piece' target = 'new'>Time::Piece</a>
                                </li>
                                <li title = 'Core module from Perl 5'>
                                    <a href = 'https://metacpan.org/pod/Time::Local' target = 'new'>Time::Local</a>
                                </li>
                            </ul>
                        </ul>
                        <a href = '{{ site.sisimai.distribution.perl }}' class = 'btn btn-continue'>Download from CPAN</a>
                    </div>
                </div>

                <div class = 'col-sm-4'>
                    <div class = 'spec-icon'>
                        <img src = '/static/images/icon/ruby-1.png'>
                        <h3 class = 'icon-caption'>Ruby {{ site.sisimai.workson.ruby[0] }} or later</h3>
                    </div>
                    <div class = 'index-info'>
                        <ul class = 'spec'>
                            <li>JRuby {{ site.sisimai.workson.jruby[0] }} - {{ site.sisimai.workson.jruby[1] }}</li>
                            <li>Runtime dependencies in MRI</li>
                            <ul>
                                <li>
                                    <a href = 'https://rubygems.org/gems/oj' target = 'new'>Oj</a>
                                </li>
                                <li></li>
                            </ul>
                            <li>Runtime dependencies in JRuby</li>
                            <ul>
                                <li>
                                    <a href = 'https://rubygems.org/gems/jrjackson' target = 'new'>JrJackson</a>
                                </li>
                                <li></li>
                            </ul>
                        </ul>
                        <a href = '{{ site.sisimai.distribution.ruby }}' class = 'btn btn-continue'>Download from RubyGems</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> <!-- /#environment -->

<section id = 'install'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'post-it'>
                    <i class = 'fa fa-cloud-download-alt'></i>
                </div>
            </div>
            <div class = 'heading col-sm-8 col-sm-offset-0'>
                <h2 class = 'in-desc'>
                    Install {{ site.html.ss }}
                </h2>
                <p class = 'description'>
                    {{ site.html.ss }} can be downloaded and installed from
                    <a href = '{{ site.sisimai.repository.project }}' target = 'new'>GitHub</a>,
                    <a href = '{{ site.sisimai.distribution.perl }}' target = 'new'>CPAN</a>, and
                    <a href = '{{ site.sisimai.distribution.ruby }}' target = 'new'>RubyGems.org</a>.
                    Additionally, the Perl version of Sisimai can be installed from
                    <a href = 'https://www.freshports.org/mail/p5-Sisimai/' target = 'new'>the FreeBSD ports collection</a> or
                    <a href = 'https://sources.debian.org/src/libsisimai-perl/' target = 'new'>Debian packages</a>.
                </p>
                <p class = 'description'>
                    <strong>
                    It is important to review <a href = '/en/release/5.0.0.html'>the release notes</a>
                    and <a href = '/en/diff'>the differences with {{ site.html.ss }} 4</a> page 
                    before installing or upgrading, as there are several breaking changes in 
                    {{ site.html.ss }} 5.0.0 that may affect your use of the software.
                    </strong>
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fab fa-git'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>From GitHub</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/github-1.png'>
                    The latest version and stable version of {{ site.html.ss }}, including development
                    versions, can be downloaded from the <span class = 'value'>5-stable</span> branch
                    or the <span class = 'value'>4-stable</span> branch of the {{ site.html.ss }}
                    <a href = '{{ site.sisimai.repository.project }}' target = 'new'>GitHub repository</a>.
                    Both the Perl and Ruby versions are available in this repository.
                </p>
                <p class = 'description'>
                    On February 2, 2024, the default branch of the repository was changed to 
                    <span class = 'value'>5-stable</span>.
                </p>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Perl version of {{ site.html.ss }}(v5)</h4>
                <p class = 'description'>
                    The repository name for the Perl version of {{ site.html.ss }} is
                    <a href = '{{ site.sisimai.repository.perl }}'><strong>sisimai/p5-sisimai</strong></a>.
                    {{ site.html.ss }} 5.0.0 and later <strong>requires Perl {{ site.sisimai.workson.perl[0] }}
                    or later</strong>, so please check the version of Perl installed on your system before installing.
                </p>
                <pre class = 'prettyprint'>
% <kbd>perl -v</kbd>

This is perl 5, version 30, subversion 0 (v5.30.0) built for darwin-2level

Copyright 1987-2019, Larry Wall
...
                </pre>
                <pre class = 'prettyprint'>
% <kbd>git clone https://github.com/sisimai/p5-sisimai.git</kbd>
% <kbd>cd ./p5-sisimai</kbd>
% <kbd>make install-from-local</kbd>
./cpanm --sudo . || ( make cpm &amp;&amp; ./cpm install --sudo -v . )
--&gt; Working on .
Configuring Sisimai-v5.0.0 ... OK
Building and testing Sisimai-v5.0.0 ... Password: &lt;sudo password here&gt;
OK
Successfully installed Sisimai-v5.0.0
1 distribution installed

% <kbd>perl -MSisimai -lE 'print Sisimai-&gt;version'</kbd>
5.0.0
                </pre>

                <h4 class = 'in-desc'>A previous version (v4)</h4>
                <p class = 'description'>
                    As of February 2, 2024, the default branch of the repository has been changed to
                    <span class = 'value'>5-stable</span>. If you want to use {{ site.html.ss }}, 
                    please specify <span class = 'value'>4-stable</span> as the branch name.
                </p>
                <pre class = 'prettyprint'>
% <kbd>git clone -b 4-stable https://github.com/sisimai/p5-sisimai.git</kbd>
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Ruby</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Ruby version of {{ site.html.ss }}</h4>
                <p class = 'description'>
                    The repository name for the Ruby version of {{ site.html.ss }} is
                    <a href = '{{ site.sisimai.repository.ruby }}'><strong>sisimai/rb-sisimai</strong></a>.
                    {{ site.html.ss }} 5.0.0 and later requires Ruby {{ site.sisimai.workson.ruby[0] }}
                    or later, so please check the version of Ruby installed on your system before installing.
                </p>
                <pre class = 'prettyprint'>
% <kbd>ruby -v</kbd>
ruby 3.3.0 (2023-12-25 revision 5124f9ac75) [x86_64-darwin21]
                </pre>

                <pre class = 'prettyprint'>
% <kbd>git clone https://github.com/sisimai/rb-sisimai.git</kbd>
% <kbd>cd ./rb-sisimai</kbd>
% <kbd>sudo make depend install-from-local</kbd>
gem install bundle rake minitest
...
3 gems installed
if [ -d "/usr/local/jr" ]; then \
    PATH="/usr/local/jr/bin:$PATH" /usr/local/jr/bin/gem install bundle rake minitest; \
fi
...
3 gems installed
/opt/local/bin/rake install
sisimai 5.0.0 built to pkg/sisimai-5.0.0.gem.
sisimai (5.0.0) installed.
if [ -d "/usr/local/jr" ]; then \
    PATH="/usr/local/jr/bin:$PATH" /usr/local/jr/bin/rake install; \
fi
sisimai 5.0.0 built to pkg/sisimai-5.0.0-java.gem.
sisimai (5.0.0) installed.
                </pre>

                <h4 class = 'in-desc'>A previous version (v4)</h4>
                <p class = 'description'>
                    As of February 2, 2024, the default branch of the repository has been changed to
                    <span class = 'value'>5-stable</span>. If you want to use {{ site.html.ss }},
                    please specify <span class = 'value'>4-stable</span> as the branch name.
                </p>
                <pre class = 'prettyprint'>
% <kbd>git clone -b 4-stable https://github.com/sisimai/rb-sisimai.git</kbd>
                </pre>

            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>CPAN</div>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>From CPAN</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/dinosaur-1.png'>
                    The release version of Perl {{ site.html.ss }} can only be downloaded from
                    <a href = '{{ site.sisimai.distribution.perl }}' target = 'new'>CPAN</a>.
                    It can also be installed using the <kbd>cpan</kbd> command, but using the
                    <a href = 'https://github.com/miyagawa/cpanminus' target = 'new'><kbd>cpanm</kbd></a> or
                    <a href = 'https://github.com/skaji/cpm' target = 'new'><kbd>cpm</kbd></a>
                    commands makes installing Perl modules much easier.
                </p>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <pre class = 'prettyprint'>
% <kbd>cpanm --sudo Sisimai</kbd>
--&gt; Working on Sisimai
Fetching http://www.cpan.org/authors/id/A/AK/AKXLIX/Sisimai-5.0.0.tar.gz ... OK
...
1 distribution installed
% <kbd>perldoc -l Sisimai</kbd>
/usr/local/lib/perl5/site_perl/5.30.0/Sisimai.pm
                </pre>

                <p class = 'description'>
                    If you want to install an older version, please specify the URL as follows:
                </p>
                <pre class = 'prettyprint'>
% <kbd>cpanm --sudo https://cpan.metacpan.org/authors/id/A/AK/AKXLIX/Sisimai-v4.25.16.tar.gz</kbd>
% <kbd>sudo cpm install https://cpan.metacpan.org/authors/id/A/AK/AKXLIX/Sisimai-v4.25.16.tar.gz</kbd>
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>gem</div>
                <div class = 'index-text'>Ruby</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>From RubyGems.org</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/ruby-1.png'>
                    The release version of Ruby {{ site.html.ss }} can only be downloaded from
                    <a href = '{{ site.sisimai.distribution.ruby }}' target = 'new'>RubyGems.org</a>
                    and installed with the <kbd>gem</kbd> command.  If you are using JRuby, you can
                    also install it with <kbd>jgem</kbd>.
                    <br />
                    <br />
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <pre class = 'prettyprint'>
% <kbd>sudo gem install sisimai</kbd>
Fetching: sisimai-5.0.0.gem (100%)
Successfully installed sisimai-5.0.0
Parsing documentation for sisimai-5.0.0
Installing ri documentation for sisimai-5.0.0
Done installing documentation for sisimai after 6 seconds
1 gem installed
                </pre>

                <p class = 'description'>
                    If you want to install an older version, please specify the desired version
                    with the <kbd>-v</kbd> option as follows:
                </p>
                <pre class = 'prettyprint'>
% <kbd>sudo gem install sisimai -v 4.25.16</kbd>
                </pre>



            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>Ports</div>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>From the Ports Collection(FreeBSD)</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/freebsd-daemon-2.png'>
                    The Perl version of {{ site.html.ss }} can be installed from FreeBSD
                    <a href = 'https://www.freebsd.org/ports/index.html' target = 'new'>Ports Collection</a>
                    <a href = 'https://www.freshports.org/mail/p5-Sisimai' target = 'new'>(mail/p5-Sisimai)</a>.
                    It can be installed with a single <kbd>make</kbd> command, but please note that
                    if the timing of the inclusion of Perl version of {{ site.html.ss }} in the Ports collection
                    is not the latest version, you may not be installing the latest version of {{ site.html.ss }}.
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <pre class = 'prettyprint'>
# <kbd>cd /usr/ports/mail/p5-Sisimai</kbd>
# <kbd>make install</kbd>
===> License BSD2CLAUSE accepted by the user
===>  p5-sisimai-4.25.16 depends on file: /usr/local/sbin/pkg - found
=> Sisimai-v4.25.16.tar.gz doesn't seem to exist in /usr/ports/distfiles/.
...
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>apt</div>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>From Debian package</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/debian-2.png'>
                    The Perl version of {{ site.html.ss }} can be installed from 
                    <a href = 'https://www.debian.org/' target = 'new'>Debian</a> or
                    <a href = 'https://ubuntu.com/' target = 'new'>Ubuntu</a>
                    <a href = 'https://sources.debian.org/src/libsisimai-perl/' target = 'new'>package</a>
                    (libsisimai-perl).

                    It can be installed with a single <kbd>apt</kbd> copmmand, but please note that
                    if the timing of the inclusion Perl version of {{ site.html.ss }} in the Debian/Ubuntu
                    packages is not the latest version, you may not be installing the latest version
                    of {{ site.html.ss }}
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-8 col-sm-offset-2'>
                <pre class = 'prettyprint'># <kbd>apt install libsisimai-perl</kbd>
Reading package lists... Done
Building dependency tree
Reading state information... Done
...
Need to get 366 kB/563 kB of archives.
After this operation, 1892 kB of additional disk space will be used.
Do you want to continue? [Y/n] <kbd>y</kbd>
Get:1 http://jp.archive.ubuntu.com/ubuntu focal/universe amd64 libclass-accessor-lite-perl all 0.08-1 [8136 B]
Get:2 http://jp.archive.ubuntu.com/ubuntu focal/universe amd64 libsisimai-perl all 4.25.5-1 [358 kB]
Fetched 366 kB in 2s (171 kB/s)
...
Setting up libjson-perl (4.02000-2) ...
Setting up libsisimai-perl (4.25.5-1) ...
Setting up libjson-xs-perl (4.020-1build1) ...
Processing triggers for man-db (2.9.1-1) ...
                </pre>
            </div>
        </div>
    </div>
</section> <!-- /#install -->

<section id = 'usage' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'post-it'>
                    <i class = 'fa fa-keyboard'></i>
                </div>
            </div>
            <div class = 'heading col-sm-8 col-sm-offset-0'>
                <h2>Basic Usage</h2>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>rise()</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>rise() method of {{ site.html.ss }}</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/outline-1.png'>
                    The following code is an example of how to use the <kbd>rise()</kbd> method of
                    {{ site.html.ss }} to decode bounce emails and obtain data from the decoded results.
                    For more information on the other arguments that can be specified for the <kbd>rise()</kbd>
                    method, please see the <a href = '/en/usage/'>How To Decode</a>.
                    The old <kbd>make()</kbd> method was deprecated in {{ site.html.ss }} 5.0.0.
                </p>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Perl version of {{ site.html.ss }}</h4>
                <pre class = 'prettyprint'><span class = 'shebang'>#! /usr/bin/env perl</span>
use Sisimai;
my $v = Sisimai-&gt;rise('/path/to/mbox'); # or Path to Maildir

if( defined $v ) {
    for my $e ( @$v ) {
        print $e->addresser->address;   # "michitsuna@example.org" # From
        print $e->recipient->address;   # "kijitora@example.jp"    # To
        print $e->recipient->host;      # "example.jp"
        print $e->deliverystatus;       # "5.1.1"
        print $e->replycode;            # "550"
        print $e->reason;               # "userunknown"
        print $e->origin;               # "/var/spool/bounce/new/1740074341.eml"
        print $e->hardbounce;           # 1
    }
} else {
    # There is no bounce message in the mailbox
    # or Sisimai could not decode
}
                </pre>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Ruby</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Ruby version of {{ site.html.ss }}</h4>
                <pre class = 'prettyprint'><span class = 'shebang'>#! /usr/bin/env ruby</span>
require 'sisimai'
v = Sisimai.rise('/path/to/mbox') # or Path to Maildir

if v.is_a? Array
  v.each do |e|
    puts e.class                # Sisimai::Fact
    puts e.recipient.class      # Sisimai::Address
    puts e.timestamp.class      # Sisimai::Time

    puts e.addresser.address    # "michitsuna@example.org" # From
    puts e.recipient.address    # "kijitora@example.jp"    # To
    puts e.recipient.host       # "example.jp"
    puts e.deliverystatus       # "5.1.1"
    puts e.replycode            # "550"
    puts e.reason               # "userunknown"
    puts e.origin               # "/var/spool/bounce/Maildir/new/1740074341.eml"
    puts e.hardbounce           # true
  end
else
  # There is no bounce message in the mailbox
  # or Sisimai could not decode
end
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>dump()</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>dump() method of {{ site.html.ss }}</h3>
                <p>
                    <img class = 'lhs' src = '/static/images/icon/purchase-order-1.png'>
                    The <kbd>dump()</kbd> method introduced in {{ site.html.ss }} v4.1.27 is
                    useful for obtaining decoded results in JSON format. As shown below, it can be
                    done with a simple code that only passes the <kbd>PATH</kbd> of the email you
                    want to decode.
                </p>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Perl version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'><span class = 'shebang'>#! /usr/bin/env perl</span>
use Sisimai;
print Sisimai-&gt;dump('/home/postmaster/Maildir/cur');
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Ruby</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Ruby version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'><span class = 'shebang'>#! /usr/bin/env ruby</span>
require 'sisimai'
puts Sisimai.dump('/home/postmaster/Maildir/cur')
                </pre>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'>jq</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Filter using &quot;jq&quot; utility</h3>
                <p class = 'description'>
                    <img class = 'lhs' src = '/static/images/icon/js-1.png'>
                    The <a href = 'https://stedolan.github.io/jq/' target = 'new'><kbd>jq</kbd></a>
                    command is useful for visually inspecting the JSON data of the decoded results.
                    As shown below, the output of the <kbd>dump()</kbd> method can be displayed in
                    an easy-to-read format.
                </p>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Perl</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Perl version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>
% <kbd>perl -MSisimai -lE 'print Sisimai-&gt;dump(shift)' path/to/mbox | jq .</kbd>
                </pre>
                <img src = '/static/images/demo/sisimai-5-cli-dump-p01.gif' width = '100%'>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>Ruby</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>Ruby version of <span class = 'ss'>Sisimai</span></h4>
                <pre class = 'prettyprint'>
% <kbd>ruby -rsisimai -e 'puts Sisimai.dump($*.shift)' path/to/mbox | jq .</kbd>
                </pre>
                <img src = '/static/images/demo/sisimai-5-cli-dump-r01.gif' width = '100%'>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-text'>JSON</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h4 class = 'in-desc'>JSON string filtered by the <strong>jq</strong> utility</h4>
                <pre class = 'prettyprint'>[
  {
    "destination": "google.example.com",
    "lhost": "gmail-smtp-in.l.google.com",
    "hardbounce": 0,
    "reason": "authfailure",
    "catch": null,
    "addresser": "michitsuna@example.jp",
    "alias": "nekochan@example.co.jp",
    "smtpagent": "Postfix",
    "smtpcommand": "DATA",
    "senderdomain": "example.jp",
    "listid": "",
    "action": "failed",
    "feedbacktype": "",
    "messageid": "hwK7pzjzJtz0RF9Y@relay3.example.com",
    "origin": "./gmail-5.7.26.eml",
    "recipient": "kijitora@google.example.com",
    "rhost": "gmail-smtp-in.l.google.com",
    "subject": "Nyaan",
    "timezoneoffset": "+0900",
    "replycode": 550,
    "token": "84656774898baa90660be3e12fe0526e108d4473",
    "diagnostictype": "SMTP",
    "timestamp": 1650119685,
    "diagnosticcode": "host gmail-smtp-in.l.google.com[64.233.187.27] said: This mail has been blocked because the sender is unauthenticated. Gmail requires all senders to authenticate with either SPF or DKIM. Authentication results: DKIM = did not pass SPF [relay3.example.com] with ip: [192.0.2.22] = did not pass For instructions on setting up authentication, go to https://support.google.com/mail/answer/81126#authentication c2-202200202020202020222222cat.127 - gsmtp (in reply to end of DATA command)",
    "deliverystatus": "5.7.26"
  }
]
                </pre>
            </div>
        </div>
    </div>
</section> <!-- #usage -->

