---
"layout": "document"
"directory": "data/"
"title": "Sisimai::Factのデータ構造"
"description": "Sisimai::Factオブジェクトのデータ構造とアクセサの一覧"
"author": "azumakuniyuki"
---
<a id = 'tohash' href = '#'></a>
<header id = 'home'>
    <div class = 'main-nav'>
        <div class = 'container'>
            <div class = 'navbar-header'>
                <button type = 'button' class = 'navbar-toggle' data-toggle = 'collapse' data-target = '.navbar-collapse'>
                    <span class = 'sr-only'>Toggle navigation</span>
                    <span class = 'icon-bar'></span>
                    <span class = 'icon-bar'></span>
                    <span class = 'icon-bar'></span>
                </button>
                <a class = 'navbar-brand' href = '/'>
                    <h1>
                        <img class = 'img-responsive' src = '/static/images/logo/sisimai-logotype-w11.png' 
                            width = '144' alt = 'Sisimai: Mail Analyzing Interface'>
                    </h1>
                </a>
            </div>
            <div class = 'collapse navbar-collapse'>
                <ul class = 'nav navbar-nav navbar-right'>
                    <li class = 'others'><a href = '/ja'><i class = 'fa fa-home'></i></a></li>
                    <li class = 'scroll active'><a href = '#index'><i class = 'fa fa-arrow-circle-up'></i></a></li>
                    <li class = 'scroll'><a href = '#a'>A</a></li>
                    <li class = 'scroll'><a href = '#c'>C</a></li>
                    <li class = 'scroll'><a href = '#d'>D</a></li>
                    <li class = 'scroll'><a href = '#f'>F</a></li>
                    <li class = 'scroll'><a href = '#h'>H</a></li>
                    <li class = 'scroll'><a href = '#l'>L</a></li>
                    <li class = 'scroll'><a href = '#m'>M</a></li>
                    <li class = 'scroll'><a href = '#o'>O</a></li>
                    <li class = 'scroll'><a href = '#r'>R</a></li>
                    <li class = 'scroll'><a href = '#s'>S</a></li>
                    <li class = 'scroll'><a href = '#t'>T</a></li>
                    <li class = 'others'><a href = '/ja/docs/'>ドキュメント</a></li>
                    <li class = 'others'><a href = '/en/data/'><i class = 'fa fa-language'></i></a></li>
                    <li class = 'others'><a href = 'https://github.com/sisimai' target = 'new'><i class = 'fa fa-github'></i></a></li>
                </ul>
            </div>
        </div>
    </div><!-- /#main-nav -->
</header><!-- /#home -->

<section id = 'index'>
    <div class = 'container'>
        <div class = 'heading'>
            <div class = 'row'>
                <div class = 'text-center col-sm-8 col-sm-offset-2'>
                    <img src = '/static/images/logo/sisimai-x01.png' width = '20%'>
                    <h2>Sisimai::Factのデータ構造</h2>
                    <p class = 'description ja'>
                        {{ site.html.ss }}の<span class = 'value'>rise()</span>メソッドは解析したデータを
                        <span class = 'value'>Sisimai::Fact</span>オブジェクトを複数個含む配列にして返します。
                        {{ site.html.ss }} 5.0.0で従来の<span class = 'value'>Sisimai::Data</span>
                        オブジェクトは廃止になりました。
                    </p>

                    <p class = 'description ja'>
                        Go版{{ site.html.ss }}では<span class = 'value'>libsisimai.org/sisimai</span>パッケージの
                        <span class = 'value'>Rise()</span>関数が
                        <span class = 'value'>
                            <a href = '{{ site.sisimai.repository.golang }}/blob/5-stable/sis/fact.go' target = 'new'>sis.Fact</a>
                        </span>
                        構造体を複数個含むスライスへのポインターを返します。

                        返ってきたオブジェクト/構造体は以下のようなデータ構造になっています。
                    </p>
                </div>
            </div> 
        </div>
    </div>
    <div class = 'read-more'>
        <a href = '#accessor' class = 'btn-continue'>詳しく</a>
    </div>
</section> <!-- /#index -->

<section id = 'a' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
                <div class = 'post-it'>A</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Action (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/urgent-message-3.png'>
                    <span class = 'value'>"action"</span> はバウンスメール内の<span class = 'value'>Action:</span>
                    フィールドの値を保持します。この項目は、解析の過程で表記の揺れ(deliverable, failureなど)は修正され、
                    次の五つの値となります。
                </p>
                <br />
                <ul class = 'spec'>
                    <li><span class = 'value'>dalayed</span></li>
                    <li><span class = 'value'>delivered</span></li>
                    <li><span class = 'value'>expanded</span></li>
                    <li><span class = 'value'>failed</span></li>
                    <li><span class = 'value'>relayed</span></li>
                </ul>
                <pre class = 'prettyprint'>
Action: failed
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-at'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Addresser (Sisimai::Address)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/business-contact-2.png'>
                    <span class = 'value'>"addresser"</span> はバウンスメール内にある元メールの
                    発信者アドレス(From)から作られる<kbd>Sisimai::Address</kbd> オブジェクトです。
                    <kbd>Sisimai::Fact</kbd>オブジェクトをJSON形式にダンプした場合はメールアドレス
                    (文字列)を保持します。
                </p>
                <p class = 'description ja'>
                    Go版{{ site.html.ss }}では
                    <span class = 'value'>
                        <a href = '{{ site.sisimai.repository.golang }}/blob/5-stable/sis/email-address.go' target = 'new'>sis.EmailAddress</a>
                    </span>
                    構造体で、それぞれのフィールド名は大文字から始まりますが、JSON形式に変換した場合は
                    全て小文字のフィールド名になります。
                </p>
                <ul>
                    <li><kbd>user()</kbd> - メールアドレスの"@"の左側</li>
                    <li><kbd>host()</kbd> - メールアドレスの"@"の右側</li>
                    <li><kbd>address()</kbd> - メールアドレス</li>
                    <li><kbd>verp()</kbd> - VERP形式の<span class = 'value'>Return-Path</span></li>
                    <li><kbd>alias()</kbd> - エイリアス</li>
                    <li><kbd>name()</kbd> - メールヘッダの表示名(v4.22.1以降)</li>
                    <li><kbd>comment()</kbd> - コメント(v4.22.1以降)</li>
                </ul>
                <pre class = 'prettyprint'>
From: "Kijitora Cat" &lt;kijitora@example.org&gt;
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-at'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Alias (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/email-1.png'>
                    <span class = 'value'>"alias"</span> は受信者アドレスのエイリアスです。
                    バウンスメール内の<span class = 'value'>Original-Recipient:</span> フィールドや
                    <span class = 'value'>"expanded from"</span>に続くメールアドレスが記述されていたら、
                    そこから値を取り出します。
                    <br><br>
                </p>
                <pre class = 'prettyprint'>
Original-Recipient: rfc822;kijitora@example.org
                </pre>
                <pre class = 'prettyprint'>
"|IFS=' ' &amp;&amp; exec /usr/local/bin/procmail -f- || exit 75 #kijitora"
(expanded from: &lt;kijitora@neko.example.edu&gt;)
                </pre>
            </div>
        </div>
    </div>
</section>

<section id = 'c' class = 'not-parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-asterisk'></i></div>
                <div class = 'post-it'>C</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Catch (*) | v4.19.0以降</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/cat-2.png'>
                    <span class = 'value'>"catch"</span> はSisimaiの<kbd>rise()</kbd>メソッドに渡した
                    フックメソッドが返した値を保持します。フックメソッドを渡さなかった場合は、Perlなら
                    <span class = 'value'>undef</span>、Rubyなら<span class = 'value'>nil</span>となります。
                    コールバック機能とフックメソッドの設定、<kbd>catch()</kbd>
                    メソッドは<strong>Sisimai 4.19.0で追加</strong>されました。
                </p>
                <p class = 'description ja cation'>
                    {{ site.html.ss }} 5.0.0でコールバック機能の引数名と引数の型が変更になりました。詳細は
                    <a href = 'https://github.com/sisimai/p5-sisimai/blob/5-stable/README-JA.md#callback-feature' target = 'new'>
                        Callback feature
                    </a>
                    をご覧下さい。
                </p>
                <p class = 'description ja'>
                    Go版{{ site.html.ss }}の場合は<span class = 'value'>interface{}</span>型で返しますので
                    適切な型アサーションを経て参照してください。
                </p>
            </div>
        </div>
    </div>
</section>

<section id = 'd' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
                <div class = 'post-it'>D</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>DeliveryStatus (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/truck-1.png'>
                    <span class = 'value'>"deliverystatus"</span>はバウンスメール内の <span class = 'value'>Status:</span>
                    フィールドの値を保持します。もしもバウンスメールに <span class = 'value'>Status:</span>
                    フィールドが無かった場合は <span class = 'value'>"5.0.9XX"</span>のような内部コードが
                    入る事があります。この値の形式は <span class = 'value'>"4.x.x"</span> か
                    <span class = 'value'>"5.x.x"</span> あるいは <span class = 'value'>"2.x.x"</span>
                    のような文字列となります。
                </p>
                <pre class = 'prettyprint'>
Status: 5.0.0 (permanent failure)
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-at'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Destination (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/contact-card-1.png'>
                    <span class = 'value'>"destination"</span> は受信者アドレスのドメインパートを値として保持します。
                    この値は <kbd>recipient()</kbd> アクセサの<kbd>host()</kbd>メソッドが返す値と同じです。
                    <br />
                    <br />
                </p>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>DiagnosticCode (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/system-report-3.png'>
                    <span class = 'value'>"diagnosticcode"</span> はバウンスメール内の<span class = 'value'>Diagnostic-Code:</span>
                    フィールドまたはバウンスメールの本文から取り出したエラーメッセージを保持します。
                </p>
                <p class = 'description ja'>
                    この値と <span class = 'value'>"diagnostictype"</span>, <span class = 'value'>"action"</span>,
                    <span class = 'value'>"deliverystatus"</span>, <span class = 'value'>"replycode"</span>,
                    <span class = 'value'>"smtpcommand"</span> の各値はバウンス理由を決定する為に
                    <kbd>Sisimai::Reason</kbd>クラスから参照されます。
                </p>
                <pre class = 'prettyprint'>
Diagnostic-Code: SMTP; 554 5.4.6 Too many hops
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>DiagnosticType (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/system-report-2.png'>
                    <span class = 'value'>"diagnostictype"</span>はバウンスメール内の<span class = 'value'>Diagnostic-Code:</span>
                    フィールドの先頭部分、<span class = 'value'>SMTP</span> や <span class = 'value'>X-Unix</span> のような値を保持します。
                    <span class = 'value'>Diagnostic-Code:</span>フィールドが無い場合、この値は空になります。
                    <br />
                    <br />
                </p>
                <pre class = 'prettyprint'>
Diagnostic-Code: X-Unix; 255
                </pre>
            </div>
        </div>
    </div>
</section>

<section id = 'f' class = 'not-parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
                <div class = 'post-it'>F</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>FeedbackType (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/strike-3.png'>
                    <span class = 'value'>"feedbacktype"</span> はバウンスメール内の<span class = 'value'>Feedback-Type:</span>
                    フィールドの値で、<span class = 'value'>abuse</span>, <span class = 'value'>fraud</span>,
                    <span class = 'value'>opt-out</span>のような値を保持します。
                    バウンスメールがARFフォーマットではない、または<span class = 'value'>"reason"</span>
                    の値が <span class = 'value'>"feedback"</span>ではない場合、この値は空になります。
                </p>
                <pre class = 'prettyprint'>
Content-Type: message/feedback-report

Feedback-Type: abuse
User-Agent: SMP-FBL
                </pre>
            </div>
        </div>
    </div>
</section>

<section id = 'h' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
                <div class = 'post-it'>H</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>HardBounce (Boolean) | v5.0.0以降</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/roadblock-4.png'>
                    {{ site.html.ss }} 5.0.0で新たに実装された<span class = 'value'>"hardbounce"</span>は、
                    宛先メールアドレスが二度と配信できない理由でバウンスしたかどうかを示す真偽値
                    (Perl版は<span class = 'value'>0</span>か<span class = 'value'>1</span>,
                    Ruby版は<span class = 'value'>true</span>か<span class = 'value'>false</span>)
                    を返します。
                </p>
                <p class = 'description ja'>
                    具体的には<span class = 'value'><a href = '#r'>"reason"</a></span>が次の値である
                    場合に真となります。
                </p>

                <ul class = 'spec'>
                    <li><a href = '/ja/reason/#hostunknown'><span class = 'value'>"hostunknown"</span></a></li>
                    <li><a href = '/ja/reason/#userunknown'><span class = 'value'>"userunknown"</span></a></li>
                    <li><a href = '/ja/reason/#hasmoved'><span class = 'value'>"hasmoved"</span></a></li>
                </ul>

                <p class = 'description ja cation'>
                    同時に<a href = '#s'><span class = 'value'>"softbounce"</span></a>は{{ site.html.ss }}
                    5.0.0で廃止となりました。
                </p>
            </div>
        </div>
    </div>
</section>

<section id = 'l' class = 'not-parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-server'></i></div>
                <div class = 'post-it'>L</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Lhost (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/server-1.png'>
                    <span class = 'value'>"lhost"</span> はバウンスメール内の <span class = 'value'>Reporting-MTA:</span>
                    フィールドの値または <span class = 'value'>Received</span>ヘッダから取り出した
                    送信に使われたMTAのホスト名またはIPアドレスを保持します。
                    <br><br>
                </p>
                <pre class = 'prettyprint'>
Reporting-MTA: dns; mx4.smtp.example.co.jp
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-server'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>ListID (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/list-1.png'>
                    <span class = 'value'>"listid"</span>はバウンスメールに含まれる元メッセージから
                    <span class = 'value'>List-Id:</span>ヘッダの値を取り出したものを保持します。
                    元メッセージが無い形式のバウンスメールの場合、この値は空になります。
                    <br><br>
                </p>
                <pre class = 'prettyprint'>
List-Id: General discussion list for Cats &lt;neko-list.example.org&gt;
                </pre>
            </div>
        </div>
    </div>
</section>

<section id = 'm' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-envelope'></i></div>
                <div class = 'post-it'>M</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>MessageID (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/message-3.png'>
                    <span class = 'value'>"messageid"</span>はバウンスメールに含まれる元メッセージの
                    <span class = 'value'>Message-Id:</span>ヘッダーの値を保持します。
                    バウンスメールに元メッセージが無い場合、この値は空になります。
                </p>
                <pre class = 'prettyprint'>
Message-Id: <201310160515.r9G5FZh9018575@smtpgw.example.jp>
                </pre>
            </div>
        </div>

    </div>
</section>

<section id = 'o' class = 'not-parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-file'></i></div>
                <div class = 'post-it'>O</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Origin (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/inbox-3.png'>
                    <span class = 'value'>"origin"</span>はバウンスメールに含まれる元メッセージの
                    ファイル名(パスを含む)を保持します。具体的には<kbd>Sisimai</kbd>クラスの<kbd>rise()</kbd>
                    メソッドや<kbd>dump()</kbd>に渡した第一引数です。Maildir/の場合は第一引数のディレクトリ名に
                    ここのファイル名が結合された文字列が入ります。

                    標準入力から読み込んだ場合は<span class = 'value'>&lt;STDIN&gt;</span>が、
                    変数から読み込んだ場合は<span class = 'value'>&lt;MEMORY&gt;</span>が、それぞれ値となります。
                </p>
                <p class = 'description ja'>
                <span class = 'value'>"origin"</span>はv4.25.6で実装されました。
                </p>
            </div>
        </div>

    </div>
</section>

<section id = 'r' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
                <div class = 'post-it'>R</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Reason (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/sms-3.png'>
                    <span class = 'value'>"reason"</span>は<strong>{{ site.html.ss }}が検出したバウンス理由</strong>
                    (メールが配信エラーになった理由)を保持します。
                    値が<span class = 'value'>"undefined"</span>か <span class = 'value'>"onhold"</span>
                    の時は{{ site.html.ss }}がバウンス理由を特定出来なかった事を意味します。
                </p>
                <p class = 'description ja'>
                    {{ site.html.ss }}が検出出来るバウンス理由の一覧は
                    <a href = '/ja/reason/'>バウンス理由の一覧</a>のページで確認出来ます。
                </p>
                <pre class = 'prettyprint'>
   ----- The following addresses had permanent fatal errors -----
<kijitora@nyaan.example.com>
    (reason: 550 5.1.1 Requested action not taken: mailbox unavailable)

   ----- Transcript of session follows -----
... while talking to inbound-smtp.us-west-2.amazonaws.com.:
&gt;&gt;&gt; RCPT To:<kijitora@nyaan.example.com>
&lt;&lt;&lt; 550 5.1.1 Requested action not taken: mailbox unavailable
550 5.1.1 <kijitora@nyaan.example.com>... User unknown
&gt;&gt;&gt; DATA
&lt;&lt;&lt; 503 Error: need RCPT command
                </pre>
                <hr>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-at'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Recipient (Sisimai::Address)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/business-contact-1.png'>
                    <span class = 'value'>"recipient"</span>はバウンスメール内にある受信者アドレスから
                    作られる<kbd>Sisimai::Address</kbd>オブジェクトです。このアドレスがまさに配信出来なかった
                    アドレスとなります。<kbd>Sisimai::Fact</kbd>オブジェクトをJSON形式にダンプした場合は
                    メールアドレス(文字列)を保持します。
                </p>
                <p class = 'description ja'>
                    Go版{{ site.html.ss }}では
                    <span class = 'value'>
                        <a href = '{{ site.sisimai.repository.golang }}/blob/5-stable/sis/email-address.go' target = 'new'>sis.EmailAddress</a>
                    </span>
                    構造体で、それぞれのフィールド名は大文字から始まりますが、JSON形式に変換した場合は
                    全て小文字のフィールド名になります。
                </p>
                <ul>
                    <li><kbd>user()</kbd> - メールアドレスの"@"の左側</li>
                    <li><kbd>host()</kbd> - メールアドレスの"@"の右側</li>
                    <li><kbd>address()</kbd> - メールアドレス</li>
                    <li><kbd>verp()</kbd> - VERP形式の<span class = 'value'>Return-Path:</span></li>
                    <li><kbd>alias()</kbd> - エイリアス</li>
                    <li><kbd>name()</kbd> - メールヘッダの表示名(v4.22.1以降)</li>
                    <li><kbd>comment()</kbd> - コメント(v4.22.1以降)</li>
                </ul>
                <pre class = 'prettyprint'>
Final-Recipient: RFC822; shironeko@example.ne.jp
                </pre>
                <pre class = 'prettyprint'>
X-Failed-Recipients: kijitora@example.ed.jp
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>ReplyCode (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/rules-3.png'>
                    <span class = 'value'>"replycode"</span>はバウンスメール内の<span class = 'value'>Diagnostic-Code:</span>
                    フィールドやバウンスメール本文から取り出したSMTP応答コードを保持します。
                    値の範囲は<span class = 'value'>"2xx"</span>, <span class = 'value'>"4xx"</span>〜
                    <span class = 'value'>"5xx"</span>となります。
                    <br>
                    <br>
                </p>
                <pre class = 'prettyprint'>
----- The following addresses had permanent fatal errors -----
<userunknown@bouncehammer.jp>
(reason: 550 5.1.1 <userunknown@bouncehammer.jp>... User Unknown)
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-server'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Rhost (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/server-2.png'>
                    <span class = 'value'>"rhost"</span>はバウンスメール内にある
                    <span class = 'value'>Remote-MTA:</span> フィールドの値または
                    <span class = 'value'>Received:</span> ヘッダから取り出した相手側MTAのホスト名か
                    IPアドレスを保持します。
                    <br>
                    <br>
                </p>
                <pre class = 'prettyprint'>
Remote-MTA: DNS; g5.example.net
                </pre>
            </div>
        </div>
    </div>
</section>

<section id = 's' class = 'not-parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-at'></i></div>
                <div class = 'post-it'>S</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>SenderDomain (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/contact-card-2.png'>
                    <span class = 'value'>"senderdomain"</span>は元メールの発信者アドレスのドメイン部分を保持します。
                    この値は<kbd>addresser()</kbd>アクセサの<kbd>host()</kbd>メソッドが返す値と同じです。
                    <br>
                    <br>
                </p>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-server'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>smtpagent (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/puzzle-1.png'>
                    <span class = 'value'>"smtpagent"</span>はバウンス理由を特定したMTAモジュール名を保持します。
                    例えば値が<span class = 'value'>"Sendmail"</span>であれば<kbd>Sisimai::Lhost::Sendmail</kbd>モジュールが
                    エラーとなった受信者アドレス取得やバウンス理由特定を行った事を意味します。
                </p>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>smtpcommand (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/command-line-2.png'>
                    <span class = 'value'>"smtpcommand"</span> はバウンスメールの<span class = 'value'>Diagnostic-Code:</span>
                    フィールドまたはバウンスメール本文から取り出した、SMTPセッションで最後に発行したと
                    思われるSMTPコマンドを保持します。
                    バウンスメール内にSMTPコマンドの記録が無い場合、この値は空になります。
                </p>
                <ul>
                    <li><span class = 'value'>HELO</span></li>
                    <li><span class = 'value'>EHLO</span></li>
                    <li><span class = 'value'>MAIL</span></li>
                    <li><span class = 'value'>RCPT</span></li>
                    <li><span class = 'value'>DATA</span></li>
                </ul>
                <pre class = 'prettyprint'>
<kijitora@example.go.jp>: host mx1.example.go.jp[192.0.2.127] said: 550 5.1.6 recipient
no longer on server: kijitora@example.go.jp (in reply to RCPT TO command)                        
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-exclamation-triangle'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>softbounce (Integer) | v5.0.0で廃止</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/roadblock-4.png'>
                    <span class = 'value'>"softbounce"</span>の値はバウンス理由がソフトバウンス(再試行で送信可能)か
                    ハードバウンスであるかを示します。この項目は<strong>{{ site.html.ss }} 4.1.28で追加</strong>されました。
                    とりうる値は上記の通り、<span class = 'value'>1</span>がソフトバウンス、
                    <span class = 'value'>0</span>がハードバウンス、<span class = 'value'>-1</span>
                    がどちらか判断出来なかった、となります。
                </p>
                <p class = 'description ja cation'>
                    <strong>この項目はv5.0.0で廃止になりました。</strong> v5.1.0までは互換性の為、
                    使用可能ですが、<a href = '#h'><span class = 'value'>"hardbounce"</span></a>を使ってください。
                </p>
                <ul>
                    <li><span class = 'value'>1</span> = Soft bounce</li>
                    <li><span class = 'value'>0</span> = Hard bounce</li>
                    <li><span class = 'value'>-1</span> = {{ site.html.ss }} could not decide</li>
                </ul>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-envelope'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Subject (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/topic-1.png'>
                    <span class = 'value'>"subject"</span>は元メールの <span class = 'value'>Subject:</span>
                    ヘッダの値を保持します。バウンスメールに元メッセージが含まれていない場合、この値は空になります。
                </p>
                <p class = 'description ja'>
                    もしも元メッセージの<span class = 'value'>Subject:</span>がMIMEエンコードされた
                    マルチバイト文字を含むもの(日本語など非ASCII文字を使用する言語)である場合、
                    {{ site.html.ss }}はUTF-8として扱います。
                </p>
            </div>
        </div>
    </div>
</section>

<section id = 't' class = 'parallax'>
    <div class = 'container'>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-clock'></i></div>
                <div class = 'post-it'>T</div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Timestamp (Sisimai::Time)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/calendar-9.png'>
                    <span class = 'value'>"timestamp"</span>はバウンスした日時を保持する<kbd>Sisima::Time</kbd>
                    <em>(Perlでは<kbd>Time::Piece</kbd>の子クラス, Rubyでは<kbd>DateTime</kbd>の子クラス)</em>
                    オブジェクトです。<kbd>Sisimai::Fact</kbd>オブジェクトをJSON形式にダンプした場合、
                    32ビット整数のマシンタイムに変換されます。
                </p>
                <pre class = 'prettyprint'>
Arrival-Date: Thu, 29 Apr 2009 23:45:33 +0900
                </pre>
                <hr>
            </div>
        </div>

        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-clock'></i></div>
            </div>
            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>TimezoneOffset (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/timezone-1.png'>
                    <span class = 'value'>"timezoneoffset"</span>はバウンスした日時のタイムゾーンを
                    <span class = 'value'>"+0900"</span>や <span class = 'value'>"-0200"</span>
                    のような文字列で保持します。
                    {{ site.html.ss }}がバウンスメール内のタイムスタンプからタイムゾーンの特定に失敗した場合、
                    この値は <span class = 'value'>"+0000"</span> となります。
                    <br />
                    <br />
                </p>
                <pre class = 'prettyprint'>
Arrival-Date: Mon, 16 Dec 2019 22:00:18 +0100 (CET)
Date: Thu, 29 Apr 2018 23:34:45 +0900 (JST)
                </pre>
                <hr>
            </div>
        </div>
        <div class = 'row'>
            <div class = 'col-sm-1 col-sm-offset-1'>
                <div class = 'index-label'><i class = 'fas fa-at'></i></div>
            </div>

            <div class = 'col-sm-8 col-sm-offset-0'>
                <h3 class = 'in-desc'>Token (String)</h3>
                <p class = 'description ja'>
                    <img class = 'lhs' src = '/static/images/icon/hashtag-1.png'>
                    <span class = 'value'>"token"</span>は元メールの発信者アドレス、受信者アドレス、
                    時刻を元に生成されるバウンス記録の一意な識別子です。
                    値はMD5のハッシュ値で<kbd>Sisimai::String</kbd>クラスの<kbd>token()</kbd>
                    メソッドで生成されます。
                    もしも<span class = 'value'>"token"</span>の値をコマンドラインで得るなら、下記
                    のようなコマンドを実行してください。
                </p>
                <pre class = 'prettyprint'>
% printf "\x02%s\x1e%s\x1e%d\x03" sender@example.jp recipient@example.org `date '+%s'` | md5
714d72dfd972242ad04f8053267e7365
                </pre>
            </div>
        </div>

    </div>
</section>

